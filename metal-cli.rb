# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class MetalCli < Formula
  desc "Official Equinix Metal CLI"
  homepage "https://deploy.equinix.com/developers/docs/metal/libraries/cli/"
  version "0.23.1"
  license "MIT"

  depends_on "go" => :build

  on_macos do
    on_intel do
      url "https://github.com/equinix/metal-cli/releases/download/v0.23.1/metal-darwin-amd64"
      sha256 "3775eacfa377b8851bd44fd149b3ca308786788e68424d6b036d1dd63d60b18a"

      def install
        bin.install "metal-darwin-amd64" => "metal"
      end
    end
    on_arm do
      url "https://github.com/equinix/metal-cli/releases/download/v0.23.1/metal-darwin-arm64"
      sha256 "46108455f81d98f90be70e8ec8f8407581710a179a65a70ff527d0e9bbd2d220"

      def install
        bin.install "metal-darwin-arm64" => "metal"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/equinix/metal-cli/releases/download/v0.23.1/metal-linux-amd64"
        sha256 "1b95b0f6403429303c89e31794ae60447db7851f08b3ea1818347df89caec9f9"

        def install
          bin.install "metal-linux-amd64" => "metal"
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/equinix/metal-cli/releases/download/v0.23.1/metal-linux-armv6"
        sha256 "14e9f406dba7c3e78e751150630d9b8975f1436c63acc176d68dc0d4580d5367"

        def install
          bin.install "metal-linux-armv6" => "metal"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/equinix/metal-cli/releases/download/v0.23.1/metal-linux-arm64"
        sha256 "6535f3c4525023c6897d972af53ae57f7a7f5088c3d42d7bc54b760b32a671b4"

        def install
          bin.install "metal-linux-arm64" => "metal"
        end
      end
    end
  end

  test do
    system "#{bin}/metal -v"
  end
end
