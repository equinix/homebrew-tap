# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class MetalCli < Formula
  desc "Official Equinix Metal CLI"
  homepage "https://metal.equinix.com/developers/docs/libraries/cli/"
  version "0.8.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/equinix/metal-cli/releases/download/v0.8.0/metal-darwin-arm64"
      sha256 "9f2ca0d913ae17584fd35622914f93a032a072ea8b3c9988006c23891237decd"

      def install
        bin.install "metal-darwin-arm64" => "metal"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/equinix/metal-cli/releases/download/v0.8.0/metal-darwin-amd64"
      sha256 "9a2f33d0d541a125a18f0d0ea4ba6a61f1d5bc5a11bb71bdb9c293a7ea54de05"

      def install
        bin.install "metal-darwin-amd64" => "metal"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/equinix/metal-cli/releases/download/v0.8.0/metal-linux-amd64"
      sha256 "005c8573e5171f6a1ef7f58bb26cea79dc4f038f46a95bb4c8cccc4f130bafce"

      def install
        bin.install "metal-linux-amd64" => "metal"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/equinix/metal-cli/releases/download/v0.8.0/metal-linux-armv6"
      sha256 "18f6e0819467b3d308653463bdf7702df0facef88966dd310a5bff7aff5ab341"

      def install
        bin.install "metal-linux-armv6" => "metal"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/equinix/metal-cli/releases/download/v0.8.0/metal-linux-arm64"
      sha256 "f57c657737958e4bd04196b44be5d6dbc7910fb82bac8821720f5adeed8083d1"

      def install
        bin.install "metal-linux-arm64" => "metal"
      end
    end
  end

  depends_on "go" => :build

  test do
    system "#{bin}/metal -v"
  end
end
