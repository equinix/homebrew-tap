# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class MetalCli < Formula
  desc "Official Equinix Metal CLI"
  homepage "https://metal.equinix.com/developers/docs/libraries/cli/"
  version "0.15.0"
  license "MIT"

  depends_on "go" => :build

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/equinix/metal-cli/releases/download/v0.15.0/metal-darwin-arm64"
      sha256 "b8967cae6121d2493e0e0fd394e755ce248b8054cbd31d2b854b089a5958a257"

      def install
        bin.install "metal-darwin-arm64" => "metal"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/equinix/metal-cli/releases/download/v0.15.0/metal-darwin-amd64"
      sha256 "26be073ae80a7e090fa2c7d2b52279182a99b4bab38ae063a88e9476b2043096"

      def install
        bin.install "metal-darwin-amd64" => "metal"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/equinix/metal-cli/releases/download/v0.15.0/metal-linux-armv6"
      sha256 "42d9aa9b4803c0155e1fe2a992be6ccd02f874a4533f5cd6c81bfb1fcd910713"

      def install
        bin.install "metal-linux-armv6" => "metal"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/equinix/metal-cli/releases/download/v0.15.0/metal-linux-arm64"
      sha256 "09b199816c25a7036ce3dc98a3428b70df074022f4acbff4aa60df12f41610e4"

      def install
        bin.install "metal-linux-arm64" => "metal"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/equinix/metal-cli/releases/download/v0.15.0/metal-linux-amd64"
      sha256 "222dca81adbcdb654daa92b404697dc4d31b1a643de72e71676e6380b33a7cd9"

      def install
        bin.install "metal-linux-amd64" => "metal"
      end
    end
  end

  test do
    system "#{bin}/metal -v"
  end
end
