# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class MetalCli < Formula
  desc "Official Equinix Metal CLI"
  homepage "https://metal.equinix.com/developers/docs/libraries/cli/"
  version "0.22.0"
  license "MIT"

  depends_on "go" => :build

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/equinix/metal-cli/releases/download/v0.22.0/metal-darwin-amd64"
      sha256 "7dff22f52341e6e8eed8958cb6accfc998dee0230f051bb0f9a8ea0c1311a779"

      def install
        bin.install "metal-darwin-amd64" => "metal"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/equinix/metal-cli/releases/download/v0.22.0/metal-darwin-arm64"
      sha256 "edc6976e7ec33ade3f716f8bf9b6344c6148b0f02f62d1d7da5c8e1c24ead67a"

      def install
        bin.install "metal-darwin-arm64" => "metal"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/equinix/metal-cli/releases/download/v0.22.0/metal-linux-amd64"
      sha256 "97693c5025e4f31b50fb1ed860c41d9d9663b5673222607caf04e67ad2877ceb"

      def install
        bin.install "metal-linux-amd64" => "metal"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/equinix/metal-cli/releases/download/v0.22.0/metal-linux-arm64"
      sha256 "d4e2709ba31d58d4e2e545133a6dcb762741c7acdf879eed4ebd6b1fd4e16faa"

      def install
        bin.install "metal-linux-arm64" => "metal"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/equinix/metal-cli/releases/download/v0.22.0/metal-linux-armv6"
      sha256 "601a502439b0c0049ae3a9674b95dc2b809bb813d47734e575fedf789788e955"

      def install
        bin.install "metal-linux-armv6" => "metal"
      end
    end
  end

  test do
    system "#{bin}/metal -v"
  end
end
